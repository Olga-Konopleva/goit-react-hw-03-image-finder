(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{63:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(6),o=a.n(r),i=a(10),s=a(4),l=a(0),u=function(e){var t=e.webformatURL,a=e.largeImageURL,n=e.onShowModal;return Object(l.jsx)("li",{className:"ImageGalleryItem",onClick:n,children:Object(l.jsx)("img",{src:t,alt:"",className:"ImageGalleryItem-image","data-src":a})})},j=function(e){var t=e.onClick;return Object(l.jsx)("button",{type:"button",className:"Button",onClick:t,children:"Load more"})},b=a(19),d=a.n(b),m=function(e){var t=e.gallery,a=e.onClick,n=e.loader,c=e.onShowModal;return Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)("ul",{className:"ImageGallery",children:t.map((function(e){var t=e.id,a=e.webformatURL,n=e.largeImageURL;return Object(l.jsx)(u,{webformatURL:a,largeImageURL:n,onShowModal:c},t)}))}),Object(l.jsxs)("div",{className:"button_container",children:[!n&&t.length>0&&Object(l.jsx)(j,{onClick:a}),n&&Object(l.jsx)(d.a,{type:"ThreeDots",color:"#303f9f",height:80,width:80})]})]})},h=function(e){var t=e.onSubmit,a=Object(n.useState)(""),c=Object(s.a)(a,2),r=c[0],o=c[1];return Object(l.jsx)("header",{className:"Searchbar",children:Object(l.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),t(r),o("")},children:[Object(l.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(l.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(l.jsx)("input",{className:"SearchForm-input",value:r,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){return o(e.target.value)}})]})})},f=document.querySelector("#modal-root"),O=function(e){var t=e.children,a=e.onClose,c=function(e){"Escape"===e.code&&a()};return Object(n.useEffect)((function(){window.addEventListener("keydown",c)}),[]),Object(n.useEffect)((function(){return function(){return window.removeEventListener("keydown",c)}})),Object(r.createPortal)(Object(l.jsx)("div",{className:"Overlay",onClick:function(e){e.target===e.currentTarget&&a()},children:Object(l.jsx)("div",{className:"Modal",children:t})}),f)},g=a(9),p=a.n(g);p.a.defaults.baseURL="https://pixabay.com/api";var v=function(e){var t=e.searchQuery,a=void 0===t?"":t,n=e.page,c=void 0===n?1:n;e.pageSize;return p.a.get("https://pixabay.com/api/?q=".concat(a,"&page=").concat(c,"&key=").concat("20154627-553297d4fa4e2a9272bf54c5b","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.data.hits}))};var x=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(1),o=Object(s.a)(r,2),u=o[0],j=o[1],b=Object(n.useState)(""),d=Object(s.a)(b,2),f=d[0],g=d[1],p=Object(n.useState)(!1),x=Object(s.a)(p,2),S=x[0],y=x[1],w=Object(n.useState)(!1),N=Object(s.a)(w,2),k=N[0],C=N[1],L=Object(n.useState)(""),I=Object(s.a)(L,2),E=I[0],R=I[1];Object(n.useEffect)((function(){f&&F()}),[f]);var U=function(){C((function(e){return!e}))},F=function(){var e={searchQuery:f,page:u};y(!0),v(e).then((function(e){0!==e.length&&(R(e.largeImageURL),j((function(e){return e+1})),c((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e))})),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}))})).finally((function(){return y(!1)}))};return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(h,{onSubmit:function(e){g(e),e!==f&&(j(1),c([]))}}),f&&Object(l.jsx)(m,{gallery:a,onClick:F,loader:S,onShowModal:function(e){var t=e.target;console.dir(t);var a=t.dataset.src;R(a),U()}}),k&&Object(l.jsxs)(O,{onClose:U,children:[" ",Object(l.jsx)("img",{src:E,alt:"image"})," "]})]})})};a(63);o.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(x,{})}),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.4b028a1f.chunk.js.map